3
Value
  (non_rec, @.,
    [
      ((f, [ A; B; C ], [ (x, A) ], (B -> C)),
        Sequence
          ((4, Effect ([ IO/3 ], . -[ OCaml.Failure/3 ]-> .)),
            Apply
              ((4, Effect ([ IO/3 ], .)),
                Variable
                  ((4, Effect ([ ], . -[ IO/3 ]-> .)),
                    OCaml.Pervasives.print_string/3),
                [ Constant ((4, Effect ([ ], .)), String("Hi")) ]),
            Function
              ((5, Effect ([ ], . -[ OCaml.Failure/3 ]-> .)), y,
                Apply
                  ((5, Effect ([ OCaml.Failure/3 ], .)),
                    Variable
                      ((5,
                        Effect
                          ([ ], . -[ OCaml.Failure/3 ]-> .)),
                        OCaml.Pervasives.failwith/3),
                    [
                      Constant
                        ((5,
                          Effect
                            ([
                            ],
                              .)),
                          String("Bye"))
                    ]))))
    ])

7
Value
  (non_rec, @.,
    [
      ((r, [ A; B ], [ (x, A) ], B),
        Match
          ((?, Effect ([ OCaml.Failure/3; IO/3 ], .)),
            Variable ((?, Effect ([ ], .)), x/0),
            [
              (Any,
                Apply
                  ((7,
                    Effect
                      ([
                        OCaml.Failure/3;
                        IO/3
                      ],
                        .)),
                    Apply
                      ((7,
                        Effect
                          ([
                            IO/3
                          ],
                            .
                              -[
                                OCaml.Failure/3
                              ]->
                              .)),
                        Variable
                          ((7,
                            Effect
                              ([
                              ],
                                .
                                  -[
                                    IO/3
                                  ]->
                                  .
                                    -[
                                      OCaml.Failure/3
                                    ]->
                                    .)),
                            f/0),
                        [
                          Constant
                            ((7,
                              Effect
                                ([
                                ],
                                  .)),
                              Int(1))
                        ]),
                    [
                      Constant
                        ((7,
                          Effect
                            ([
                            ],
                              .)),
                          Int(2))
                    ]))
            ]))
    ])
