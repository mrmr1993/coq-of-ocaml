3
Value
  (rec, @.,
    [
      ((sums_rec, [ ],
        [
          (counter, Type (nat/3));
          (ls, Type (list/3, Type (list/3, Type (Z/3))))
        ], Type (list/3, Type (Z/3))),
        Match
          ((?, Effect ([ Counter/3; NonTermination/3 ], .)),
            Variable ((?, Effect ([ ], .)), counter/0),
            [
              (Constructor (O/3),
                Apply
                  ((?,
                    Effect
                      ([
                        NonTermination/3
                      ],
                        .)),
                    Variable
                      ((?,
                        Effect
                          ([
                          ],
                            .
                              -[
                                NonTermination/3
                              ]->
                              .)),
                        not_terminated/3),
                    [
                      Tuple
                        ((?,
                          Effect
                            ([
                            ],
                              .)))
                    ]));
              (Constructor (S/3, counter),
                LetFun
                  (4,
                    Effect
                      ([
                        Counter/3;
                        NonTermination/3
                      ],
                        .))
                  (rec, @.,
                    [
                      ((sum_rec,
                        [
                        ],
                        [
                          (counter_1,
                            Type
                              (nat/3));
                          (xs,
                            Type
                              (list/3,
                                Type
                                  (Z/3)))
                        ],
                        Type
                          (Z/3)),
                        Match
                          ((?,
                            Effect
                              ([
                                Counter/3;
                                NonTermination/3
                              ],
                                .)),
                            Variable
                              ((?,
                                Effect
                                  ([
                                  ],
                                    .)),
                                counter_1/0),
                            [
                              (Constructor
                                (O/3),
                                Apply
                                  ((?,
                                    Effect
                                      ([
                                        NonTermination/3
                                      ],
                                        .)),
                                    Variable
                                      ((?,
                                        Effect
                                          ([
                                          ],
                                            .
                                              -[
                                                NonTermination/3
                                              ]->
                                              .)),
                                        not_terminated/3),
                                    [
                                      Tuple
                                        ((?,
                                          Effect
                                            ([
                                            ],
                                              .)))
                                    ]));
                              (Constructor
                                (S/3,
                                  counter_1),
                                Match
                                  ((5,
                                    Effect
                                      ([
                                        Counter/3;
                                        NonTermination/3
                                      ],
                                        .)),
                                    Variable
                                      ((5,
                                        Effect
                                          ([
                                          ],
                                            .)),
                                        xs/0),
                                    [
                                      (Constructor
                                        ([]/3),
                                        Constant
                                          ((6,
                                            Effect
                                              ([
                                              ],
                                                .)),
                                            Int(0)));
                                      (Constructor
                                        (cons/3,
                                          x,
                                          xs),
                                        IfThenElse
                                          ((8,
                                            Effect
                                              ([
                                                Counter/3;
                                                NonTermination/3
                                              ],
                                                .)),
                                            Apply
                                              ((8,
                                                Effect
                                                  ([
                                                  ],
                                                    .)),
                                                Variable
                                                  ((8,
                                                    Effect
                                                      ([
                                                      ],
                                                        .)),
                                                    equiv_decb/3),
                                                [
                                                  Variable
                                                    ((8,
                                                      Effect
                                                        ([
                                                        ],
                                                          .)),
                                                      x/0);
                                                  Constant
                                                    ((8,
                                                      Effect
                                                        ([
                                                        ],
                                                          .)),
                                                      Int(12))
                                                ]),
                                            Match
                                              ((9,
                                                Effect
                                                  ([
                                                    Counter/3;
                                                    NonTermination/3
                                                  ],
                                                    .)),
                                                Apply
                                                  ((9,
                                                    Effect
                                                      ([
                                                        Counter/3;
                                                        NonTermination/3
                                                      ],
                                                        .)),
                                                    Apply
                                                      ((?,
                                                        Effect
                                                          ([
                                                          ],
                                                            .
                                                              -[
                                                                Counter/3;
                                                                NonTermination/3
                                                              ]->
                                                              .)),
                                                        Variable
                                                          ((?,
                                                            Effect
                                                              ([
                                                              ],
                                                                .
                                                                  ->
                                                                  .
                                                                    -[
                                                                      Counter/3;
                                                                      NonTermination/3
                                                                    ]->
                                                                    .)),
                                                            sums_rec/0),
                                                        [
                                                          Variable
                                                            ((?,
                                                              Effect
                                                                ([
                                                                ],
                                                                  .)),
                                                              counter/0)
                                                        ]),
                                                    [
                                                      Constructor
                                                        ((9,
                                                          Effect
                                                            ([
                                                            ],
                                                              .)),
                                                          cons/3,
                                                          Constructor
                                                            ((9,
                                                              Effect
                                                                ([
                                                                ],
                                                                  .)),
                                                              cons/3,
                                                              Constant
                                                                ((9,
                                                                  Effect
                                                                    ([
                                                                    ],
                                                                      .)),
                                                                  Int(13)),
                                                              Constructor
                                                                ((9,
                                                                  Effect
                                                                    ([
                                                                    ],
                                                                      .)),
                                                                  []/3)),
                                                          Constructor
                                                            ((9,
                                                              Effect
                                                                ([
                                                                ],
                                                                  .)),
                                                              []/3))
                                                    ]),
                                                [
                                                  (Constructor
                                                    (cons/3,
                                                      x,
                                                      Any),
                                                    Apply
                                                      ((10,
                                                        Effect
                                                          ([
                                                          ],
                                                            .)),
                                                        Variable
                                                          ((10,
                                                            Effect
                                                              ([
                                                              ],
                                                                .)),
                                                            Z.sub/3),
                                                        [
                                                          Variable
                                                            ((10,
                                                              Effect
                                                                ([
                                                                ],
                                                                  .)),
                                                              x/0);
                                                          Constant
                                                            ((10,
                                                              Effect
                                                                ([
                                                                ],
                                                                  .)),
                                                              Int(1))
                                                        ]));
                                                  (Any,
                                                    Constant
                                                      ((11,
                                                        Effect
                                                          ([
                                                          ],
                                                            .)),
                                                        Int(0)))
                                                ]),
                                            Apply
                                              ((13,
                                                Effect
                                                  ([
                                                    Counter/3;
                                                    NonTermination/3
                                                  ],
                                                    .)),
                                                Variable
                                                  ((13,
                                                    Effect
                                                      ([
                                                      ],
                                                        .)),
                                                    Z.add/3),
                                                [
                                                  Variable
                                                    ((13,
                                                      Effect
                                                        ([
                                                        ],
                                                          .)),
                                                      x/0);
                                                  Apply
                                                    ((13,
                                                      Effect
                                                        ([
                                                          Counter/3;
                                                          NonTermination/3
                                                        ],
                                                          .)),
                                                      Apply
                                                        ((?,
                                                          Effect
                                                            ([
                                                            ],
                                                              .
                                                                -[
                                                                  Counter/3;
                                                                  NonTermination/3
                                                                ]->
                                                                .)),
                                                          Variable
                                                            ((?,
                                                              Effect
                                                                ([
                                                                ],
                                                                  .
                                                                    ->
                                                                    .
                                                                      -[
                                                                        Counter/3;
                                                                        NonTermination/3
                                                                      ]->
                                                                      .)),
                                                              sum_rec/0),
                                                          [
                                                            Variable
                                                              ((?,
                                                                Effect
                                                                  ([
                                                                  ],
                                                                    .)),
                                                                counter_1/0)
                                                          ]),
                                                      [
                                                        Variable
                                                          ((13,
                                                            Effect
                                                              ([
                                                              ],
                                                                .)),
                                                            xs/0)
                                                      ])
                                                ])))
                                    ]))
                            ]))
                    ])
                  in
                LetFun
                  (4,
                    Effect
                      ([
                        Counter/3;
                        NonTermination/3
                      ],
                        .))
                  (non_rec, @.,
                    [
                      ((sum,
                        [
                        ],
                        [
                          (xs,
                            Type
                              (list/3,
                                Type
                                  (Z/3)))
                        ],
                        Type
                          (Z/3)),
                        Apply
                          ((?,
                            Effect
                              ([
                                Counter/3;
                                NonTermination/3
                              ],
                                .)),
                            Variable
                              ((?,
                                Effect
                                  ([
                                  ],
                                    .
                                      ->
                                      .
                                        -[
                                          Counter/3;
                                          NonTermination/3
                                        ]->
                                        .)),
                                sum_rec/0),
                            [
                              Apply
                                ((?,
                                  Effect
                                    ([
                                      Counter/3
                                    ],
                                      .)),
                                  Variable
                                    ((?,
                                      Effect
                                        ([
                                        ],
                                          .
                                            -[
                                              Counter/3
                                            ]->
                                            .)),
                                      read_counter/3),
                                  [
                                    Tuple
                                      ((?,
                                        Effect
                                          ([
                                          ],
                                            .)))
                                  ]);
                              Variable
                                ((?,
                                  Effect
                                    ([
                                    ],
                                      .)),
                                  xs/0)
                            ]))
                    ])
                  in
                Match
                  ((14,
                    Effect
                      ([
                        Counter/3;
                        NonTermination/3
                      ],
                        .)),
                    Variable
                      ((14,
                        Effect
                          ([
                          ],
                            .)),
                        ls/0),
                    [
                      (Constructor
                        ([]/3),
                        Constructor
                          ((15,
                            Effect
                              ([
                              ],
                                .)),
                            []/3));
                      (Constructor
                        (cons/3,
                          xs,
                          ls),
                        Constructor
                          ((16,
                            Effect
                              ([
                                Counter/3;
                                NonTermination/3
                              ],
                                .)),
                            cons/3,
                            Apply
                              ((16,
                                Effect
                                  ([
                                    Counter/3;
                                    NonTermination/3
                                  ],
                                    .)),
                                Variable
                                  ((16,
                                    Effect
                                      ([
                                      ],
                                        .
                                          -[
                                            Counter/3;
                                            NonTermination/3
                                          ]->
                                          .)),
                                    sum/0),
                                [
                                  Variable
                                    ((16,
                                      Effect
                                        ([
                                        ],
                                          .)),
                                      xs/0)
                                ]),
                            Apply
                              ((16,
                                Effect
                                  ([
                                    Counter/3;
                                    NonTermination/3
                                  ],
                                    .)),
                                Apply
                                  ((?,
                                    Effect
                                      ([
                                      ],
                                        .
                                          -[
                                            Counter/3;
                                            NonTermination/3
                                          ]->
                                          .)),
                                    Variable
                                      ((?,
                                        Effect
                                          ([
                                          ],
                                            .
                                              ->
                                              .
                                                -[
                                                  Counter/3;
                                                  NonTermination/3
                                                ]->
                                                .)),
                                        sums_rec/0),
                                    [
                                      Variable
                                        ((?,
                                          Effect
                                            ([
                                            ],
                                              .)),
                                          counter/0)
                                    ]),
                                [
                                  Variable
                                    ((16,
                                      Effect
                                        ([
                                        ],
                                          .)),
                                      ls/0)
                                ])))
                    ]))
            ]))
    ])

3
Value
  (non_rec, @.,
    [
      ((sums, [ ], [ (ls, Type (list/3, Type (list/3, Type (Z/3)))) ],
        Type (list/3, Type (Z/3))),
        Apply
          ((?, Effect ([ Counter/3; NonTermination/3 ], .)),
            Variable
              ((?,
                Effect
                  ([ ], . -> . -[ Counter/3; NonTermination/3 ]-> .)),
                sums_rec/0),
            [
              Apply
                ((?, Effect ([ Counter/3 ], .)),
                  Variable
                    ((?,
                      Effect
                        ([
                        ],
                          .
                            -[
                              Counter/3
                            ]->
                            .)),
                      read_counter/3),
                  [
                    Tuple
                      ((?,
                        Effect
                          ([
                          ],
                            .)))
                  ]);
              Variable ((?, Effect ([ ], .)), ls/0)
            ]))
    ])
